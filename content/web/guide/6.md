/*
Title : 6.了解安全
Sort : 6
Tmpl : page-guide
*/



## 6.了解安全
安全是一个大的话题，并且非常重要，通常在app开发中，这一部分是最难的，Wilddog让这一切变得简单，Wilddog使用一种配置语言来配置规则表达式

#### 认证

用户ID是一个非常重要概念，不同的用户拥有不同的数据和不同的权限，比如，在一个聊天程序，每一条消息关联它的创造者，用户可以删除自己的消息，而不能删除别人的，让APP变得安全的第一步是用户认证

Wilddog 提供了以下用户认证的方式
* 集成微博 和其他 OAuth访问
* Email，密码登录，并且提供用户管理
* 匿名用户访问
* 第三方Token登录

#### 授权

知道用户的身份只是安全的一部分，一旦你知道谁在访问数据，你需要一种方式来控制访问权限
Wilddog提供了一种描述语言，你能在控制面板里的规则表达式 tab 编辑。
这些规则表达式让你可以控制管理数据的访问规则。规则级联应用到其子节点

```json

{

  "rules": {

    "foo": {

      ".read": true，

      ".write": false

    }

  }

}

```

这个例子允许所有人访问 `foo`

规则表达式包含一系列内置对象，和函数。你可以利用这些函和对象构建表达式，可以灵活的控制用户访问。最重要的一个内置对象是 auth，auth在app的用户认证的时候生成， auth包含一系列对象，包含一个唯一ID。 auth.uid

auth 变量是很多规则表达式的基础

``` json

{

  "rules": {

    "users": {

      "$user_id": {

        ".write": "$user_id === auth.uid"

      }

    }

  }

}

```


这个规则保证 用户只能访问 users 下 与 uid 同名的节点


## 用户认证

大多数的应用都希望知道用户的身份，让应用知道用户身份的过程叫做用户认证。Wilddog 提供了多种简单易用的用户认证方式
当用户认证的时候会发生两件事情:
* 用户的身份信息通过callback返回给你的客户端，这样，你可以为不同的用户提供不同的体验。返回的用户信息包含一个`uid` 保证全局唯一性。
* 你的应用的规则表达式中的 `auth` 被定义，这个对象同 返回给客户端的内容相同， `auth.uid` 可以让你保护用户专有的数据。

Wilddog 内置支持Email，密码方式登录，社交网络方式登录，匿名登录，使用Wilddog 的App可以方便的通过客户端操作认证过程，无须后端烦恼。

#### 选择一个授权方式

|平台|描述 |
|----|----|
|Custom |用户自己生成登录token，用于APP原有的服务后端与Wilddog连接 |
|Email和密码| 使用 Email和密码登录，注册，注销，修改信息，用户信息托管在Wildddog服务端 |
|匿名 | 用户匿名登录，使用临时ID，ID 有效期为一个会话 |
|OATH | 其他社交平台，进行OAUTH 认证 |


详细文档请参考 "用户认证" 相关文档




